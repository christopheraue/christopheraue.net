<svg id="transition-fader"></svg>

<script>
    // requirejs delays loading our synchronous javascript (the _sync.js file)
    // until the next event loop tick. To prevent the site from flickering
    // before the transition is started, the initial state of the page
    // transition must be set up immediately.
    !function() {
        var transitionJSON = window.sessionStorage.getItem('pageTransition');
        if (transitionJSON) {
            var transition = JSON.parse(transitionJSON);
            document.body.classList.add(transition.category + '-transition');
            transition.fadeHeader && document.body.classList.add('header-fade-transition');
        }
    }();
</script>