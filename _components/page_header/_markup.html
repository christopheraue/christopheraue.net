<header>
  <div class="logo-nav">
    <a href="/" class="logo" title="Go to start page">
      {% component LogoChristopherAue %}
    </a><!--
 --><nav>
      <ul>
        <li>
          {% assign slashed_category = '/' | append: page.category | append: '/' %}
          {% if page.url == slashed_category %}
            <h1 class="nav-item {{ page.category }}" title="You are on /{{ page.category }}">
          {% else %}
            <a href="/{{ page.category }}" class="nav-item {{ page.category }}" title="Go to /{{ page.category }}">
          {% endif %}
              <div class="slash-text">
                {% component Slash{{ page.category | capitalize }} %}
              </div><!--
           --><div class="arrow"></div>
          {% if page.url == slashed_category %}
            </h1>
          {% else %}
            </a>
          {% endif %}
        </li>
        {% for category in site.category_list %}
        {% if category != page.category %}
        <li>
          <a href="/{{ category }}" class="nav-item {{ category }}" title="Go to /{{ category }}">
            <div class="slash-text">
              {% component Slash{{ category | capitalize }} %}
            </div>
          </a>
        </li>
        {% endif %}
        {% endfor %}
      </ul>
      <svg class="shadow"></svg>
    </nav>
  </div>
</header>

<script>
    // requirejs delays loading our synchronous javascript (the _sync.js file)
    // until the next event loop tick. To prevent the site from flickering
    // before the transition is started, the initial state of the page
    // transition must be set up immediately.
    !function() {
        var transitionJSON = window.sessionStorage.getItem('pageTransition');
        if (transitionJSON) {
            var transition = JSON.parse(transitionJSON),
                header = document.querySelector('body > header');

            if (transition.transitionHeader) {
                header.style.opacity = 0;
            }
        }
    }();
</script>