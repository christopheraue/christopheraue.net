<header class="PageHeader">
  <div class="PageHeader-InnerBounds">
    <a href="/" class="PageHeader-Logo" title="Go to start page">
      {% component LogoChristopherAue %}
    </a><!--
 --><nav class="PageHeader-Nav">
      <ul class="PageHeader-NavList">
        <li class="PageHeader-NavItem">
          {% assign slashed_category = '/' | append: page.category | append: '/' %}
          {% if page.url == slashed_category %}
            <h1 class="PageHeader-NavItemContent current {{ page.category }}" title="You are on /{{ page.category }}">
          {% else %}
            <a href="/{{ page.category }}" class="PageHeader-NavItemContent current {{ page.category }}" title="Go to /{{ page.category }}">
          {% endif %}
              <div class="PageHeader-NavSlashText">
                {% component Slash{{ page.category | capitalize }} %}
              </div><!--
           --><div class="PageHeader-NavArrow"></div>
          {% if page.url == slashed_category %}
            </h1>
          {% else %}
            </a>
          {% endif %}
        </li>
        {% for category in site.category_list %}
          {% if category != page.category %}
            <li class="PageHeader-NavItem">
              <a href="/{{ category }}" class="PageHeader-NavItemContent {{ category }}" title="Go to /{{ category }}">
                <div class="PageHeader-NavSlashText">
                  {% component Slash{{ category | capitalize }} %}
                </div>
              </a>
            </li>
          {% endif %}
        {% endfor %}
      </ul>
      <svg class="PageHeader-NavShadow"></svg>
    </nav>
  </div>
</header>

<script>
    // requirejs delays loading our synchronous javascript (the _sync.js file)
    // until the next event loop tick. To prevent the site from flickering
    // before the transition is started, the initial state of the page
    // transition must be set up immediately.
    !function() {
        var transitionJSON = window.sessionStorage.getItem('pageTransition');
        if (transitionJSON) {
            var transition = JSON.parse(transitionJSON),
                header = document.querySelector('.PageHeader');

            if (transition.transitionHeader) {
                header.style.opacity = 0;
            }
        }
    }();
</script>