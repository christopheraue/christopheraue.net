@import 'variables'

/*
 *  Header
 *  ======
 *
 *  to be seen on [/design](/design)
 */
$transition_time: 300ms

body > header
  text-align: center
  height: 2.5em
  font-size: 1.25em
  position: relative
  z-index: 9999999 // above everything else
  @media screen and (min-width: 32em) //512px
    font-size: 1em
  .logo-nav
    position: relative
    display: inline-block
  .logo
    display: inline-block
    vertical-align: top
    opacity: 0.85
    &.hover
      opacity: 1
    .LogoChristopherAue
      font-size: 1.25em
      fill: white
      stroke: white
  nav
    position: absolute
    z-index: 999999
    top: 30%
    right: -.5em
    height: 2.25em
    overflow: hidden
    text-align: right
    white-space: nowrap
    border-radius: .1em
    transform: scale(1)
    transform-origin: top right
    transition: transform $transition_time ease-in-out, height $transition_time ease-in-out
    cursor: pointer
    @media screen and (min-width: 50em) //800px
      position: relative
      display: inline-block
      right: 0
      margin-top: -.75em
      margin-left: -1.1em
      font-size: 1.5em
      text-align: left
      /*
       *  Avoid pixel jump on page transition for wide viewports by
       *  making sure the translation is a whole number in pixels:
       *  16px (base font-size)
       *  * 1.25 (body font-size scaling)
       *  * 1.5 (header font-size scaling)
       *  * 2.26667 (navigation font-size scaling)
       *  => exactly 68px
       */
      height: 2.26667em
    .nav-item
      display: block
      padding: .5em .5em .5em 1.25em
      transition: background $transition_time ease-in-out
      pointer-events: none // prevent location change when tapping the nav to open it!
      .slash-text
        display: inline-block
        vertical-align: top
        fill: white
        stroke: white
        transition: opacity $transition_time ease-in-out
        .aspect-ratio-preservation-area, .size
          height: 1.25em
          @media screen and (min-width: 50em) //800px
            /*
             *  Avoid pixel jump on page transition for wide viewports by
             *  making sure the translation is a whole number in pixels:
             *  16px (base font-size)
             *  * 1.25 (body font-size scaling)
             *  * 1.5 (header font-size scaling)
             *  * 2.26667 (navigation font-size scaling)
             *  => exactly 68px
             */
            height: 1.26667em
    li + li
      .nav-item
        padding-right: 1.75em
    .arrow
      display: inline-block
      vertical-align: top
      position: relative
      top: 0
      right: 0
      width: 1.25em
      height: 1.25em
      &:before
        content: ''
        display: block
        position: absolute
        top: 50%
        margin-top: -.15em
        left: 50%
        margin-left: -.35em
        width: 0
        height: 0
        border: .35em solid transparent
        border-top-color: white
        opacity: 1
        transform: rotate(0deg)
        transition: transform $transition_time ease-in-out, opacity 2*$transition_time ease-in-out
        transform-origin: 50% 15%
        @media screen and (min-width: 32em) //512px
          margin-left: -.275em
          border-width: .3em
    .shadow
      display: none
      position: absolute
      top: 0
      left: 0
      width: 100%
      height: 100%
      pointer-events: none
      box-shadow: inset -.2em -.2em .5em rgba(0,0,0,0.04), inset .2em .2em .5em rgba(255,255,255,0.04)
    &.activated
      height: 4.5em
      transform: scale(2)
      box-shadow: 0 0 5px rgba(0,0,0,0.5), 1px 1px 3px rgba(0,0,0,0.5)
      .shadow
        display: block
      @media screen and (min-width: 32em) //512px
        transform: scale(1.5)
      @media screen and (min-width: 50em) //800px
        transform: scale(1)
      .nav-item
        pointer-events: auto
        &.collateral
          background: darken($collateral-dark, 5%)
          &.hover
            background: $collateral-dark
        &.design
          background: darken($design-dark, 5%)
          &.hover
            background: $design-dark
        .slash-text
          opacity: 0.7
        &.hover
          .slash-text
            opacity: 1
      .arrow:before
        transform: rotate(90deg)
        opacity: 0