@keyframes PageHeader-transition-in
  from
    opacity: 0
  to
    opacity: 1

@keyframes PageHeader-transition-out
  from
    opacity: 1
  to
    opacity: 0

.PageHeader
  text-align: center
  font-size: 1.3em
  height: 2em
  position: relative
  z-index: 9999999
  animation-duration: 300ms
  animation-timing-function: ease-in-out
  &.prepare-transition-in
    opacity: 0
  &.transition-in
    animation-name: PageHeader-transition-in
    opacity: 1
  &.transition-out
    animation-name: PageHeader-transition-out
    opacity: 0

.PageHeader-InnerBounds
  position: relative
  display: inline-block

.PageHeader-Logo
  display: inline-block
  vertical-align: top
  opacity: 0.85
  .Logo
    fill: white
  &.hover, &:hover
    opacity: 1

$transition_time: 300ms
$item_height: 1em
$shadow_spread: 5px

.PageHeader-Nav
  line-height: 0

  position: absolute
  top: 1em
  right: 0
  text-align: right
  @media screen and (min-width: 50em) //800px
    display: inline-block
    vertical-align: top
    position: relative
    top: -.25em
    right: auto
    text-align: left
    height: 0 // does not contribute to the height of the header

.PageHeader .nav-DropdownNavigation
  font-size: .9em
  margin-top: -.5*$item_height
  @media screen and (min-width: 50em) //800px
    font-size: 1.5em

.PageHeader .base-Openable
  @media screen and (min-width: 50em) //800px
    margin-left: -$item_height

.PageHeader .base-Openable-EventArea
  transform: scale(1)
  transform-origin: top right
  transition: transform $transition_time ease-in-out

.PageHeader .base-Openable-Content
  margin: -$shadow_spread
  padding: $shadow_spread
  max-height: 2*$item_height
  transition: max-height 0s ease-in-out $transition_time

.PageHeader .nav-Navigation
  border-radius: .1em
  overflow: hidden
  transition-property: box-shadow, transform
  transition-duration: $transition_time
  transition-timing-function: ease-in-out

.PageHeader .nav-Navigation-Overlay
  box-shadow: inset -.2em -.2em .5em rgba(0,0,0,0.04), inset .2em .2em .5em rgba(255,255,255,0.04)
  opacity: 0
  transition: opacity $transition_time ease-in-out

.PageHeader .nav-Navigation-Item
  padding: $item_height/2 0 $item_height/2 $item_height
  transition: opacity $transition_time ease-in-out, background $transition_time ease-in-out
  &.selected
    .PageHeader-Nav-ItemArrow
      opacity: 1

.PageHeader-Nav-ItemContent,
.PageHeader-Nav-ItemArrow
  display: inline-block
  vertical-align: middle

.PageHeader-Nav-ItemContent
  fill: white
  stroke: white
  .base-PreserveAspectRatio-Reference
    height: 1em
    vertical-align: top

.PageHeader-Nav-ItemArrow
  position: relative
  width: $item_height
  height: $item_height
  opacity: 0
  transition: opacity $transition_time ease-in-out
  text-align: center
  margin-left: .1em // gutter width between tiles
  &:after
    content: ''
    display: inline-block
    vertical-align: middle
    height: 100%
    width: 0
  &:before
    content: ''
    display: inline-block
    vertical-align: middle
    width: 0
    height: 0
    border: .3em solid transparent
    border-top-color: white
    transform: translateY(25%) rotate(0deg)
    transform-origin: 50% 15%
    transition: transform $transition_time ease-in-out

.PageHeader .nav-Navigation-Focus
  background: rgba(255,255,255,.05)
  z-index: 9999

.PageHeader .nav-Navigation-ListFocus
  transition-property: opacity, transform
  transition-duration: $transition_time, 100ms
  transition-timing-function: ease-in-out
  opacity: 0

.PageHeader .base-Openable.open,
.PageHeader .base-Openable.no-js:hover
  .base-Openable-EventArea
    transform: scale(1.5)
    @media screen and (min-width: 32em) //512px
      transform: scale(1.25)
    @media screen and (min-width: 50em) //800px
      transform: scale(1)
  .base-Openable-Content
    transition-duration: $transition_time
    transition-delay: 0s

  .nav-Navigation
    box-shadow: 0 0 $shadow_spread rgba(0,0,0,0.5), 1px 1px $shadow_spread/2 rgba(0,0,0,0.5)

  .PageHeader-Nav-ItemArrow
    opacity: 0
    &:before
      transform: translateY(25%) rotate(90deg)

.PageHeader .base-Openable.open
  .nav-Navigation-ListFocus
    opacity: 1