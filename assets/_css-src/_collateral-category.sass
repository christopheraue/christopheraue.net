@import "variables"

/*
 *  /collateral Category
 *  ====================
 *
 *  Colors
 *  ------
 *
 *  ```
 *  !bodyClass collateral
 *
 *  <div style="padding: 1.25em">Light Text On Dark Background</div>
 *  <div class="white-box">Dark Text On Light Background</div>
 *  ```
 */
body.collateral
  background: $collateral-dark
  color: $collateral-light

  .white-box
    background: $collateral-light
    color: $collateral-dark

/*
 *  The Category Page
 *  -----------------
 *
 *  Displayed at [/collateral](/collateral).
 */
$google-fonts: str-join($google-fonts, "|", "Open+Sans+Condensed:700")

body.collateral
  > main
    max-width: 50em
    margin-left: auto
    margin-right: auto
    padding: 0 $gutter-width/2
    @media screen and (min-width: 32em) //512px
      padding: 0 $gutter-width
  #theatre
    margin-bottom: 7em
    position: relative
    .marquee
      position: relative
      margin-bottom: 40%
      object
        width: 100%
      .light-box
        position: absolute
        top: 31.4%
        left: 10.25%
        height: 19.1%
        text
          font-family: "Open Sans Condensed"
          font-weight: bold
          font-size: 22px
          fill: black
          text-anchor: middle
          text-transform: uppercase
          &.large
            font-size: 36px
    .screen
      $screen-width: 66.6666%
      $theatre-max-aspect-ratio: 16/10

      width: $screen-width
      position: absolute
      top: 95%
      left: 50%
      margin-left: -$screen-width/2
      margin-top: -.5625 * $screen-width/2
      z-index: 9999
      desc
        display: none
      iframe
        position: absolute
        border-radius: .3em
        box-shadow: 0 0 4em black
        border: .4em solid black
        background: black
        top: -.4em // compensate for border
        left: -.4em
        width: 100%
        height: 100%
        transition: transform 1s ease // transform set with javascript
      .darkness
        position: fixed
        top: 0
        left: 0
        right: 0
        bottom: 0
        background: black
        opacity: 0
        transition: opacity 1s ease
        pointer-events: none
        .light-switch
          position: absolute
          bottom: 2em
          width: 100%
          text-align: center
          color: black
          opacity: .3
          transition: opacity 1s ease, color 1s ease 1s
          @media screen and (min-aspect-ratio: #{$theatre-max-aspect-ratio*10}/10), screen and (min-width: 50em) and (min-height: 50em/$theatre-max-aspect-ratio)
            // Wide landscape viewports have a little less space to display the
            // "Turn lights back on"-button. The content area does not
            // grow beyond a width of 50em: For wider viewports a static rule makes sure
            // the aspect ratio is met.
            bottom: 1em
          &:before
            content: 'Turn lights back on'
      &:after
        content: ''
        display: block
        padding-bottom: 56.25% // ensure 16/9 format of screen
      &.playing
        @media screen and (max-aspect-ratio: #{$theatre-max-aspect-ratio*10}/10), screen and (min-width: 50em) and (min-height: 50em/$theatre-max-aspect-ratio)
          // The video should not be scaled for wide landscape viewports. There will not
          // be enough room to leave the theatre mode if it is. The content area does not
          // grow beyond a width of 50em: For wider viewports a static rule makes sure
          // the aspect ratio is met.
          iframe
            transform: scale(100%/$screen-width)
        .darkness
          opacity: 0.90
          pointer-events: auto
          .light-switch
            color: white
            cursor: pointer
            &.hover
              opacity: 1
  .sections
    text-align: center
    section
      margin: 5em auto 0
  svg
    vertical-align: middle
  .button
    text-align: center
    svg
      height: 3em
    a
      display: inline-block
      position: relative
      border-radius: .2em
      overflow: hidden
      box-shadow: 1px 1px 3px rgba(0,0,0,0.25)
      &:after
        content: ''
        display: block
        position: absolute
        top: 0
        left: 0
        right: 0
        bottom: 0
        pointer-events: none
        box-shadow: inset -.2em -.2em .5em rgba(0,0,0,0.1), inset .2em .2em .5em rgba(255,255,255,0.1)
  .annotation
    svg
      stroke: white
  #youtube
    min-width: 15em
    max-width: 30em
    .button a
      &.hover
        &:after
          background: rgba(255,255,255,0.4)
    .annotation
      text-align: right
      margin-top: .4em
      svg
        height: 3em
  #patreon
    min-width: 15em
    max-width: 30em
    .button a
      &.hover
        &:after
          background: rgba(255,255,255,0.2)
    .help-me
      text-align: left
      margin-bottom: -.2em
      svg
        height: 6em
    .annotation
      text-align: right
      margin-top: .4em
      svg
        height: 11em
    @media screen and (min-width: 45em) //720px
      .help-me
        margin-bottom: -1em
    @media screen and (min-width: 50em) //800px
      max-width: 34em
      .help-me
        margin-bottom: -1.5em
        svg
          height: 8em
  #twitter
    min-width: 15em
    max-width: 21.5em
    .button a
      &.hover
        &:after
          background: rgba(255,255,255,0.15)
    .annotation
      margin-bottom: -2.3em
      text-align: left
      svg
        height: 3.5em
    .gifs
      text-align: center
      margin-left: 6em
      margin-bottom: .2em
      svg
        height: 2.5em
    .updates
      text-align: center
      margin-right: 3em
      margin-top: .2em
      svg
        height: 4em