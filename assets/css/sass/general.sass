/*
 *  General Layout
 *  ==============
 *  Body and Background
 *  -------------------
 *  The background image is intended to fade to white at the bottom. For small viewports it must be
 *  specified where the background fade should start. The element must be given the class
 *  `start-background-fade`. For medium viewports the background fade begins where the
 *  content area starts. For large viewports the left sidebar, where the header will be located,
 *  will not fade. Fading starts at 50% of the viewport's height.
 *  
 *  ```
 *  <iframe width="800" height="480" class="archive">
 *      <div id="content-container">
 *          <div id="content">
 *              <div class="start-background-fade kalei-stub" style="margin-top: 100px">element to start bg fade at for small viewports</div>
 *              <article class="fixie"</article>
 *          </div>
 *      </div>
 *  </iframe>
 *  ```
 */
html, body
    padding: 0
    margin: 0
    height: 100%

//reset
ul, ol, li, dl, dt, dd, h1, h2, h3, h4, h5, h6, p
    margin: 0
    padding: 0

ul, ol
    list-style-type: none

#content
    h1, h2, h3, h4, h5, h6, p
        font-weight: normal
        font-style: normal
    
body
    background: lightblue no-repeat
    background-size: 100% auto
    font-size: 100%
    overflow-x: hidden
    min-height: 100%
    @media screen and (max-aspect-ratio: 4/3)
        background-size: cover

body
    @media screen and (min-width: 50em) //800px
        height: auto
        .start-background-fade
            &:before, &:after
                content: none
        position: relative
        &:before, &:after
            content: ""
            display: block
            position: absolute
            left: 0
            top: 155px
            right: 0
            z-index: -1
        &:before
            height: 200px
            background: url(../images/background-fadeout.png) repeat-x 0 0
        &:after
            margin-top: 200px
            bottom: 0
            background: white
    @media screen and (min-width: 81.25em) //1300px
        &:before
            margin-top: -100px
        &:after
            margin-top: 100px
        &:before, &:after
            top: 250px
            left: 275px

.start-background-fade
    position: relative
    &:before
        content: ""
        display: block
        position: absolute
        left: -100em
        top: 0
        right: -100em
        height: 200px
        z-index: -1
        background: url(../images/background-fadeout.png) repeat-x 0 0
    &:after
        content: ""
        display: block
        position: absolute
        left: -100em
        top: 200px
        right: -100em
        bottom: -100em
        background: white
        z-index: -1

/*
 *  Content Scaling
 *  ---------------
 *  Realized by scaling the font-size. Everything else should be scaled in relation to it. Measure
 *  should therefore be given in em.
 *  
 *  ```
 *  <iframe width="800" height="400" class="kalei-neutral">
 *      <div id="content-container">
 *          <div id="content" class="fixie">
 *              <article class="text"></article>
 *          </div>
 *      </div>
 *  </iframe>
 *  ```
 */
#content-container
    @media screen and (min-width: 32em) //512px
        font-size: 1.25em

    @media screen and (min-width: 42.5em) //680px
        font-size: 1.5em
       
    @media screen and (min-width: 50em) //800px
        font-size: 1em

    @media screen and (min-width: 55em) //890px
        font-size: 1.125em

    @media screen and (min-width: 60em) //960px
        font-size: 1.25em
        
/*
 *  Responsive Grid
 *  ---------------
 *  For small viewports the container are rendered just above each other.
 *  
 *  ### Breakpoints
 *  The responsive grid breaks at the following points:
 *
 *  * #### 50 em / 800 px
 *    added margins, content floats to the right creating a sidebar on the left, content width
 *    adjusts to viewport width
 *
 *  * #### 64 em / 1024 px
 *    content width stays constant and is centered, while header and footer scale to full viewport width
 *
 *  * #### 81.25 em / 1300 px
 *    header is fixed to the left, content width stays constant and is centered across the remaining space on the right
 *
 *  ### Content Paddings
 *  Paddings are adjusted to fit to the available space. Generally, they scale up upto
 *  a viewport width of 60em resp. 960px and stay constant from there on. 
 *  
 *  ```
 *  <iframe width="800" height="480">
 *      <header id="page-header" class="kalei-stub">HEADER</header>
 *      <div id="content-container">
 *          <div id="content" class="kalei-stub">CONTENT<article class="fixie"></article></div>
 *      </div>
 *      <footer id="page-footer" class="kalei-stub">FOOTER</footer>
 *  </iframe>
 *  ```
 *  
 *  ### Page scrolled down
 *  For viewports, that display the header at the top, it will be fixed there if scrolled down. Set
 *  the css class `.scrolled-past` for the header to fix it there.
 *  ```
 *  <iframe width="800" height="480">
 *      <header id="page-header" class="scrolled-past kalei-stub">HEADER</header>
 *      <div id="content-container">
 *          <div id="content" class="kalei-stub">CONTENT<article class="fixie"></article></div>
 *      </div>
 *      <footer id="page-footer" class="kalei-stub">FOOTER</footer>
 *  </iframe>
 *  ```
 */
#page-header
    position: fixed
    z-index: 99
    top: 0
    left: 0
    right: 0
    min-height: 66px

#content-container
    padding: 66px 1.25em 0
    min-height: 100%
    box-sizing: border-box
    overflow: hidden
    
#footer
    min-height: 2.8125em //45px
        
@media screen and (min-width: 50em) //800px
    #page-header
        height: 5em  //80px
        top: 1.5625em //25px
        &.scrolled-past
            top: 0
    
    #content-container
        padding: 155px 1.25em 1.25em 275px //155px 25px 25px 275px
    
    #content
        margin: 0

@media screen and (min-width: 64em) //1024px
    #content
        width: 36.2em //724px at font-size: 1.5em
        margin: 0 auto
        
@media screen and (min-width: 81.25em) //1300px
    #page-header
        margin: 0
        width: 17.1875em //275px
        position: fixed
        height: auto
        top: 0
        left: 0
        bottom: 0
    
    #content-container
        padding: 50px 0 1.5625em 525px //50px 0 25px 300px
    
    #page-footer
        margin: 0

/*
 *  Use Of the Sidebar
 *  ------------------
 *  The area of the sidebar can be used by marking an element with the css class `.use-sidebar`.
 *  ```
 *  <iframe width="800" height="400">
 *      <div id="content-container">
 *          <div id="content" class="kalei-stub fixie">CONTENT AREA<div class="kalei-stub">content not using sidebar</div>
 *              <div class="use-sidebar kalei-stub">content using sidebar</div>
 *          </div>
 *      </div>
 *  </iframe>
 *  ```
 */

@media screen and (min-width: 50em) //800px
    #content .use-sidebar
        margin-left: -250px